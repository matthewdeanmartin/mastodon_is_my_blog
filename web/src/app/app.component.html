<div class="app-layout">
  <div class="header">
    <h1 style="font-size: 1.5rem; margin:0;">Mastodon Blog</h1>
    <nav>
      <a routerLink="/" style="margin-right: 15px;">Read</a>
      <a routerLink="/admin">Write (Admin)</a>
    </nav>
  </div>

  <div class="sidebar">
    <div class="muted" style="margin-bottom:10px;">FILTERS</div>
    <button class="nav-btn" [class.active]="currentFilter==='all'" (click)="setFilter('all')">Latest Storms</button>
    <button class="nav-btn" [class.active]="currentFilter==='news'" (click)="setFilter('news')">News</button>
    <button class="nav-btn" [class.active]="currentFilter==='software'" (click)="setFilter('software')">Cool Software</button>
    <button class="nav-btn" [class.active]="currentFilter==='pictures'" (click)="setFilter('pictures')">Pictures</button>
    <button class="nav-btn" [class.active]="currentFilter==='videos'" (click)="setFilter('videos')">Videos</button>
    <button class="nav-btn" [class.active]="currentFilter==='discussions'" (click)="setFilter('discussions')">Discussions</button>

    <hr>

<!--    <div class="muted" style="margin-bottom:10px;">BLOG ROLL</div>-->
<!--    <div *ngFor="let acc of blogRoll" style="margin-bottom: 8px; display: flex; align-items: center; gap: 8px;">-->
<!--        <img [src]="acc.avatar" style="width: 24px; height: 24px; border-radius: 50%;">-->
<!--        <a [href]="acc.url" target="_blank" style="font-size: 0.9rem; text-decoration: none; color: #333; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;">-->
<!--            {{ acc.display_name || acc.acct }}-->
<!--        </a>-->
<!--    </div>-->

    <div class="muted" style="margin-bottom:10px;">BLOG ROLL</div>
    <div *ngFor="let acc of blogRoll" style="margin-bottom: 8px; display: flex; align-items: center; gap: 8px;">
        <img [src]="acc.avatar" style="width: 24px; height: 24px; border-radius: 50%;">
        <a [routerLink]="['/']"
           [queryParams]="{user: acc.acct}"
           queryParamsHandling="merge"
           style="font-size: 0.9rem; text-decoration: none; color: #333; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; cursor: pointer;">
            {{ acc.display_name || acc.acct }}
        </a>
    </div>

    <hr>

    <div class="muted" style="margin-bottom:10px;">LINKS</div>
    <a href="https://mastodon.social" target="_blank" class="nav-btn">My Profile</a>
  </div>

  <div class="content">
    <router-outlet></router-outlet>
  </div>

  <div class="footer">
    Powered by Mastodon & FastAPI. &copy; 2026.<br>
    <a href="https://www.flaticon.com/free-icons/elephant" title="elephant icons">Elephant icons created by Freepik - Flaticon</a>
  </div>
</div>
