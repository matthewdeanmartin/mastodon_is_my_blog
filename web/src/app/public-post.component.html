<div class="card" *ngIf="post">
  <h2 class="post-title">Blog Post</h2>
  <div class="muted">{{ post.created_at | date:'fullDate' }}</div>

  <div class="post-body" [innerHTML]="sanitizeHtml(post.content)"></div>

  <!-- Display images if this post has media -->
  <div *ngIf="getMediaImages(post).length > 0" style="margin-top: 16px; display: flex; gap: 12px; flex-wrap: wrap;">
    <img
      *ngFor="let media of getMediaImages(post)"
      [src]="media.url"
      [alt]="media.description || 'Image'"
      style="max-width: 100%; height: auto; border-radius: 4px;"
    />
  </div>
</div>

<div class="card">
  <h3>Comments</h3>
  <div *ngIf="loadingComments" class="muted">Loading comments from Mastodon...</div>

  <div *ngIf="!loadingComments && comments.length === 0" class="muted">
    No comments yet. Reply on Mastodon to see them here.
  </div>

  <div *ngFor="let c of comments">
    <hr>
    <div class="row">
      <strong>{{ c.account.display_name || c.account.acct }}</strong>
      <small>{{ c.created_at | date:'short' }}</small>
    </div>
    <div class="post-body" [innerHTML]="sanitizeHtml(c.content)"></div>
  </div>
</div>
